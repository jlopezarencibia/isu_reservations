<div class="row m-0 bg-white justify-content-center">
    <div class="col col-12 col-md-9">
        <div class="row py-2 py-md-3 align-items-stretch">
            <div class="col col-md-4">
                <span class="page-title">{{pageTitle}}</span>
            </div>
            <div class="col col-md-5 text-muted small mobile-hidden">
                {{pageDescription}}
            </div>
            <div class="col col-md-3 d-flex align-items-center mobile-hidden">
                <button class="btn btn-block btn-gray" routerLink="/clients/create">create reservation</button>
            </div>
        </div>
    </div>
</div>

<div class="row bg-gray justify-content-center m-0 p-md-3" style="min-height: 65vh">
    <div class="col-md-8 bg-white p-0 p-md-3">
        <div style="display: flex; flex-direction: column; height: 100%">
            <div class="row mx-0">
                <div class="col-12 col-md-6">
                    <div ngbDropdown class="d-inline-block py-0 w-100">
                        <div class="btn input-dropdown btn-block" id="dropdownBasic1"
                             ngbDropdownToggle>
                            <fa-icon [icon]="icSort" class="mr-3"></fa-icon>
                            <div class="flex-grow-1 text-left">Sort by</div>
                        </div>
                        <div ngbDropdownMenu aria-labelledby="dropdownBasic1">
                            <button ngbDropdownItem>By Date Ascending</button>
                            <button ngbDropdownItem>By Date Descending</button>
                            <button ngbDropdownItem>By Alphabetic Ascending</button>
                            <button ngbDropdownItem>By Alphabetic Descending</button>
                            <button ngbDropdownItem>By Ranking</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="pt-2 flex-grow-1">
                <table class="table table-striped table-borderless text-nowrap" *ngIf="(reservations$ | async) as reservations" style="border-spacing: 10px">
                    <tbody>
                    <tr *ngFor="let reservation of reservations">
                        <td class="mobile-hidden">
                            <img src="assets/img/banner-back.jpg" style="object-fit: cover; width: 50px; height: 50px" alt="">
                        </td>
                        <td style="width: 100%">
                            <div>{{reservation.location!}}</div>
                            <div class="text-black-50 font-weight-light small">{{reservation.date! | itemDate}}</div>
                        </td>
                        <td class="w-100 mobile-hidden">
                            <div>Ranking</div>
                            <div>
                                <ngb-rating [max]="5" [readonly]="true" [rate]="reservation.ranking!">
                                    <ng-template let-fill="fill" let-index="index">
                                        <span class="star-bg" [class.star-filled]="fill === 100">&#9733;</span>
                                    </ng-template>
                                </ngb-rating>
                            </div>
                        </td>
                        <td>
                            <div class="d-flex align-items-center" style="cursor: pointer" (click)="toggleFavorite(reservation)">
                                <div class="mr-2 mobile-hidden" [ngClass]="{'text-black-25': reservation.favorite!}">Add Favorites</div>
                                <div>
                                    <img [src]="reservation.favorite ? 'assets/icons/ic-favorite-active.svg' : 'assets/icons/ic-favorite.svg'" alt="" style="height: 24px; width: 24px">
                                </div>
                            </div>
                        </td>
                        <td>
                            <button class="btn btn-gray" [routerLink]="['/reservations/edit', reservation.id!]">edit</button>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div class="d-flex justify-content-center justify-content-md-start px-3 px-md-0" *ngIf="count$ | async as count">
                <ngb-pagination [(page)]="page" [collectionSize]="count" [pageSize]="pageSize"></ngb-pagination>
            </div>
        </div>
    </div>
</div>

